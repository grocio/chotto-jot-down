# 回帰分析ですべき分析を分散分析で行うとどうなるか

回帰分析ですべき分析を分散分析で行うことがあると思います（？）。もし分散分析で行うとどうなるのかの簡単な解説です。

線形的な関係がある、説明変数xと被説明変数yがあったとします（どちらも連続量であるとします）。例えば、xが短期記憶成績で、yがIQだとします。さらに、20名分のデータがあるとします。
回帰分析を行うということは以下のようなことです。

![plot1](https://github.com/grocio/chotto-jot-down/blob/main/fig/plot_regression_anova_1.png)

1から20までの数字はそれぞれの参加者のIDで、それぞれの参加者のx,yの値がプロットされています。全体として、xが高くなるにつれてyも高くなる関係にあります。回帰分析では、y = ax + bというような式（i.e., 回帰式）を立てて、xでyを予測/説明するということを行います。実線がその予測を表します。実際の参加者のyの値と予測されたyの値のズレが赤い点線で表されています。

同じデータを分散分析で行うということは以下のようなことです。

![plot2](https://github.com/grocio/chotto-jot-down/blob/main/fig/plot_regression_anova_2.png)

まず、xの値で低群と高群に分けるとします。この場合、分散分析はそれぞれの群のyの平均値でyの値を予測/説明するということに対応します。この図でも赤い点線が、実際の参加者のyの値と予測されたyの値のズレが表されています。

連続量の説明変数を使って被説明変数が綺麗に説明できる場合は、あえて低群と高群などに分ける必要はないと思います。さらに、2つの図から明らかなように、回帰分析が適切な場合に分散分析を行うと予測/説明のズレが大きくなり、これは統計上誤差が大きくなることに対応します。統計上誤差が大きくなるということは検定力の低下になるので望ましくないと考えられます。

もちろん、回帰分析と分散分析では帰無仮説の立て方が違うので（前者は回帰式の傾きが0か、後者は群の平均値が群間で同じか）、これらを比較することはそもそも無意味かもしれません。しかし、連続量を持つxとyに関係があるのかを検討する場合は、多くの場合回帰分析を使うことが自然だと思います。
